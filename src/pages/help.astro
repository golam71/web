---
import { Icon } from "astro-icon";

import Layout from "@layouts/Layout.astro";
//data here
const suggestionsData = [
  {
    title: "salam app",
    image: "/image.png",
    brief:
      "GOLAM is an advertisement-free and privacy-focused Islamic app that offers all the features a Muslim may need throughout their day with no compromises.",
    link: "https://salam.app",
  },
  {
    title: "ssalam app",
    image: "/image.png",
    brief:
      "Salam App is an advertisement-free and privacy-focused Islamic app that offers all the features a Muslim may need throughout their day with no compromises.",
    link: "https://salam.app",
  },
  {
    title: "ssalam app",
    image: "/image.png",
    brief:
      "Salam App is an advertisement-free and privacy-focused Islamic app that offers all the features a Muslim may need throughout their day with no compromises.",
    link: "https://salam.app",
  },
  {
    title: "ssalam app",
    image: "/image.png",
    brief:
      "Salam App is an advertisement-free and privacy-focused Islamic app that offers all the features a Muslim may need throughout their day with no compromises.",
    link: "https://salam.app",
  },
  {
    title: "ssalam app",
    image: "/image.png",
    brief:
      "Salam App is an advertisement-free and privacy-focused Islamic app that offers all the features a Muslim may need throughout their day with no compromises.",
    link: "https://salam.app",
  },
  {
    title: "ssalam app",
    image: "/image.png",
    brief:
      "Salam App is an advertisement-free and privacy-focused Islamic app that offers all the features a Muslim may need throughout their day with no compromises.",
    link: "https://salam.app",
  },
  {
    title: "ssalam app",
    image: "/image.png",
    brief:
      "Salam App is an advertisement-free and privacy-focused Islamic app that offers all the features a Muslim may need throughout their day with no compromises.",
    link: "https://salam.app",
  },

  // Add more suggestions here if needed.
];
---

<Layout title="Salam App Team">
  <!-- js and css part 1 -->
  <style>
    /* ... Other styles ... */
    #suggestion-list-container {
      transition: max-height 0.3s ease-in-out;
    }
  </style>

  <script is:inline>
  const suggestionsData = [
      {
          title: "salam app",
          image: "/image.png",
          brief:
              "GOLAM is an advertisement-free and privacy-focused Islamic app that offers all the features a Muslim may need throughout their day with no compromises.",
          link: "https://salam.app",
      },
      {
          title: "ssalam app",
          image: "/image.png",
          brief:
              "Salam App is an advertisement-free and privacy-focused Islamic app that offers all the features a Muslim may need throughout their day with no compromises.",
          link: "https://salam.app",
      },
      {
          title: "ssalam app",
          image: "/image.png",
          brief:
              "Salam App is an advertisement-free and privacy-focused Islamic app that offers all the features a Muslim may need throughout their day with no compromises.",
          link: "https://salam.app",
      },
      {
          title: "ssalam app",
          image: "/image.png",
          brief:
              "Salam App is an advertisement-free and privacy-focused Islamic app that offers all the features a Muslim may need throughout their day with no compromises.",
          link: "https://salam.app",
      },
      {
          title: "ssalam app",
          image: "/image.png",
          brief:
              "Salam App is an advertisement-free and privacy-focused Islamic app that offers all the features a Muslim may need throughout their day with no compromises.",
          link: "https://salam.app",
      },
      {
          title: "ssalam app",
          image: "/image.png",
          brief:
              "Salam App is an advertisement-free and privacy-focused Islamic app that offers all the features a Muslim may need throughout their day with no compromises.",
          link: "https://salam.app",
      },
      {
          title: "ssalam app",
          image: "/image.png",
          brief:
              "Salam App is an advertisement-free and privacy-focused Islamic app that offers all the features a Muslim may need throughout their day with no compromises.",
          link: "https://salam.app",
      },

      // Add more suggestions here if needed.
  ];

  // Function to handle input changes and display suggestions.
  function handleInput() {
      const input = document.querySelector("input");
      const inputValue = input.value.toLowerCase();
      const suggestionList = document.querySelector(
          "#suggestion-list-container"
      );

      // Clear previous suggestions.
      suggestionList.innerHTML = "";

      // Filter and display suggestions that match the input value or brief text.
      const matchingSuggestions = suggestionsData.filter((suggestion) => {
          return (
              suggestion.title.toLowerCase().includes(inputValue) ||
              suggestion.brief.toLowerCase().includes(inputValue)
          );
      });

      matchingSuggestions.forEach((suggestion) => {
          const suggestionItem = document.createElement("div");
          suggestionItem.innerHTML = `
            <a href="${suggestion.link}" class="block text-white bg-transparent">
                  <div class="hover:bg-slate-700">
                    <p class="p-3">${suggestion.title}</p>
                    <p class="p-3">${suggestion.brief}</p>
              </div>
            </a>
          `;

          suggestionList.appendChild(suggestionItem);
      });

      // Show/hide the suggestion list based on input value.
      suggestionList.classList.toggle(
          "hidden",
          matchingSuggestions.length === 0
      );
  }
  </script>
  <!-- js and css part 1 closes -->
  <section class="text-white body-font sm:px-10">
    <div class="overflow-hidden mb-40">
      <h1
        class="text-2xl sm:text-5xl font-bold text-center m-10 whitespace-pre"
        id="texteffect"
      >
      </h1>
      <div class="flex justify-center mb-20 relative">
        <input
          placeholder="eg : Who is Allah?"
          class="px-5 w-5/6 sm:w-2/4 p-2 rounded-lg text-2xl text-gray-200 bg-smoke-400 border border-aquamarine-600 absolute"
          type="text"
          oninput="handleInput()"
        />

        <div
          id="suggestion-list-container"
          class="hidden absolute top-25 mt-20 w-5/6 sm:w-2/4 rounded-lg text-2xl text-gray-200 bg-smoke-400 border border-aquamarine-600"
        >
        </div>
        <!-- auto complete and input tag above   -->
        <!-- cards here  -->
        <div class="flex flex-wrap justify-center mt-20">
          <!-- Loop through the suggestionsData array and create a card for each suggestion -->
          {
            suggestionsData.map((suggestion) => (
              <div class="max-w-sm  border-gray-200 rounded-lg  hover:  shadow dark:bg-gray-800 hover:bg-gray-700 m-4">
                <div class="transform translate-y-0 hover:-translate-y-5 transition-transform duration-300 ease-in-out">
                  <a href={suggestion.link}>
                    <img
                      class="rounded-t-lg"
                      src={suggestion.image}
                      alt={suggestion.title}
                    />
                    <div class="p-5">
                      <h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">
                        {suggestion.title}
                      </h5>
                      <p class="mb-3 font-normal text-gray-700 dark:text-gray-400">
                        {suggestion.brief}
                      </p>
                      <p class="inline-flex items-center  py-2 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                        Read more
                        <Icon
                          name="ph:link-bold"
                          alt="link"
                          class="w-6 h-6 ml-2"
                        />
                      </p>
                    </div>
                  </a>
                </div>
              </div>
            ))
          }
        </div>
      </div>
    </div>
  </section>
  <!-- This is for text effect -->
  <script is:inline>
  // Text stuff
  var i = 0;
  var txt = "Search For Articles.";
  var speed = 50;

  function typeWriter() {
      if (i < txt.length) {
          let x = document.getElementById("texteffect");
          x.innerText += txt.charAt(i);
          i++;
          setTimeout(typeWriter, speed);
      }
      }
    typeWriter();
  </script>
</Layout>
